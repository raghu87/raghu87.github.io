<html>
  <head>
    
  </head>
  <body>
    <div id="imageContainer">
      <img src="http://10.4.71.145/DMT/D3V/images/GopalanMall/1001018.jpg" style="width:100px;height:100px;" data-id="9" data-imagename="1001018"/>
      <img src="http://10.4.71.145/DMT/D3V/images/GopalanMall/1001019.jpg" style="width:100px;height:100px;" data-id="10" data-imagename="1001019"/>
      <img src="http://10.4.71.145/DMT/D3V/images/GopalanMall/1001020.jpg" style="width:100px;height:100px;" data-id="11" data-imagename="1001020"/>
    </div>
    <div id="imageSliderOuterContainer" style="position: fixed;bottom: 0px;width: 100%;">
      <div id="imageSliderLeft" style="position: relative;float: left;width: 10%;text-align: center;">
        left
      </div>
      <div id="imageSliderContainer" style="position: relative;float: left;width: 80%;">
      </div>
      <div id="imageSliderRight" style="position: relative;float: left;width: 10%;text-align: center;">
        right
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      function init() {
        var arr = [
          {id:9,imagename:"1001018"}
          ,{id:10,imagename:"1001019"}
          ,{id:11,imagename:"1001020"}
        ];
        for(var i in arr) { 
          var url = "http://10.4.71.145/DMT/D3V/images/GopalanMall/"+arr[i]['imagename']+".jpg";
          var html = "";
          var localId = "imageInnerDom_"+arr[i]['imagename'];
          html += "<div id='"+localId+"' data-imagename='"+arr[i]['imagename']+"'>";
          html += "<img src='"+url+"' style='width:100%;'/>";
          html += "</div>";
          $('[id^="imageInnerDom_"]').each(function () { $(this).hide(); });
          if($('#'+localId).length) {
            $("#"+localId).remove();
          }
          $('#imageSliderContainer').append(html);
          $('#imageSliderOuterContainer').hide();
        } 
      }
      $(document).ready(function () {
        init(); 
        $('#imageContainer img').click(function () {
          var feature = [
            {
              id:$(this).attr('data-id')
              ,layer:{}
              ,properties:{
                floor: "Ground Floor"
                ,gid: $(this).attr('data-id')
                ,imageid: "15"
                ,imagename: $(this).attr('data-imagename')
                ,name: "Wildcraft  Store"
              }
            }
          ]; 
          var url = "http://10.4.71.145/DMT/D3V/images/GopalanMall/"+$(this).attr('data-imagename')+".jpg";
          var html = "";
          var localId = "imageInnerDom_"+$(this).attr('data-imagename');
          html += "<div id='"+localId+"' data-imagename='"+$(this).attr('data-imagename')+"'>";
          html += "<img src='"+url+"' style='width:100%;'/>";
          html += "</div>";
          $('[id^="imageInnerDom_"]').each(function () { $(this).hide(); });
          if($('#'+localId).length) {
            $("#"+localId).remove();
          }
          $('#imageSliderContainer').append(html);
          $('#imageSliderOuterContainer').show();
        });
        $('#imageSliderLeft').click(function () {
          var im = undefined;
          var h = undefined;
          if($('[id^="imageInnerDom_"]').length > 1) {
            //$('#imageSliderContainer div').each(function (i) {}
            $('[id^="imageInnerDom_"]').each(function (i) {
              if(i == 0) {
                im = $(this).attr('data-imagename');
              }
              //if(i == $('#imageSliderContainer div').length - 1) {}
              if(i == $('[id^="imageInnerDom_"]').length - 1) {
                h = $(this).detach();
                h.insertBefore($('#imageInnerDom_'+im));
                $('[id^="imageInnerDom_"]').each(function () { $(this).hide(); });
                $('[id^="imageInnerDom_"]').each(function (j) { 
                  if(j == $('[id^="imageInnerDom_"]').length - 1) {
                    $(this).show(); 
                  }
                });
              }
            });
          }
        });

        $('#imageSliderRight').click(function () {
          var im = undefined;
          var h = undefined;
          if($('[id^="imageInnerDom_"]').length > 1) {
            //$('#imageSliderContainer div').each(function (i) {}
            $('[id^="imageInnerDom_"]').each(function (i) {
              if(i == 0) {
                h = $(this);
              }
              //if(i == $('#imageSliderContainer div').length - 1) {}
              if(i == $('[id^="imageInnerDom_"]').length - 1) {
                im = $(this).attr('data-imagename');
                h.detach().insertAfter($('#imageInnerDom_'+im));
                $('[id^="imageInnerDom_"]').each(function () { $(this).hide(); });
                $('[id^="imageInnerDom_"]').each(function (j) { 
                  if(j == $('[id^="imageInnerDom_"]').length - 1) {
                    $(this).show(); 
                  }
                });
              }
            });
          }
        });
      });
    </script> 
  </body>
</html>

